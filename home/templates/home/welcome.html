{% extends "base.html" %}

{% block title %}SmartNotes!{% endblock %}

{% block content %}
    <h1>Welcome to your Aerospace SmartNotes!</h1>
    <p>Today is <span id="current-time">{{ today }}</span></p>
    
    {% if user.is_authenticated %}
        <a href="{% url 'notes.list' %}" class="btn btn-primary">Check out the notes!</a> 
    {% else %}
        <a href="{% url 'login' %}" class="btn btn-primary">Log in to Check out the notes!</a>
    {% endif %}
    
    <script>
        function updateTime() {
            const currentTimeElement = document.getElementById('current-time');
            const now = new Date();
            const formattedTime = now.toLocaleString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
            });
            currentTimeElement.textContent = formattedTime;
        }

        // Update the time every second
        setInterval(updateTime, 1000);
        updateTime(); // Call immediately to set the initial time
    </script>
{% endblock %}
